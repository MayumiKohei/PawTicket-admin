(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{330:(e,a,t)=>{Promise.resolve().then(t.bind(t,4177))},4177:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var i=t(5155),r=t(2115),n=t(7016),s=t(7440),o=t(5695),l=t(4979),d=t.n(l);function c(){let[e,a]=(0,r.useState)(""),[t,l]=(0,r.useState)(""),[c,p]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),g=(0,o.useRouter)(),h=async a=>{a.preventDefault(),p(!0),m("");try{let a=await (0,n.x9)(s.j6,e,t);if(["3S6PdCwFK2TjGgQMUBnGkp9gTn53"].includes(a.user.uid)){let e=await a.user.getIdToken(),t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})});(await t.json()).success?g.push("/"):m("セッションの設定に失敗しました。")}else m("管理者権限がありません。"),await s.j6.signOut()}catch(e){console.error("ログインエラー:",e),m("ログインに失敗しました。メールアドレスとパスワードを確認してください。")}finally{p(!1)}};return(0,i.jsx)("div",{className:d().loginContainer,children:(0,i.jsxs)("div",{className:d().loginCard,children:[(0,i.jsx)("h1",{children:"PawTicket Admin"}),(0,i.jsx)("h2",{children:"管理者ログイン"}),(0,i.jsxs)("form",{onSubmit:h,className:d().loginForm,children:[(0,i.jsxs)("div",{className:d().formGroup,children:[(0,i.jsx)("label",{htmlFor:"email",children:"メールアドレス"}),(0,i.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>a(e.target.value),required:!0,placeholder:"admin@example.com"})]}),(0,i.jsxs)("div",{className:d().formGroup,children:[(0,i.jsx)("label",{htmlFor:"password",children:"パスワード"}),(0,i.jsx)("input",{type:"password",id:"password",value:t,onChange:e=>l(e.target.value),required:!0,placeholder:"パスワードを入力"})]}),u&&(0,i.jsx)("div",{className:d().error,children:u}),(0,i.jsx)("button",{type:"submit",disabled:c,className:d().loginButton,children:c?"ログイン中...":"ログイン"})]})]})})}},4979:e=>{e.exports={loginContainer:"login_loginContainer__1Adbm",loginCard:"login_loginCard__kH_Yz",loginForm:"login_loginForm__I1imL",formGroup:"login_formGroup__2jbVa",error:"login_error__BVYzc",loginButton:"login_loginButton__OAdrO"}},7440:(e,a,t)=>{"use strict";let i,r;t.d(a,{j6:()=>c});var n=t(2479),s=t(7016),o=t(3681),l=t(7398);i=0===(0,n.Dk)().length?(0,n.Wp)({apiKey:"AIzaSyAjmdbaSlO2PJtnThYOI9mrpsoBgq6JWDc",authDomain:"pt-admin-4d877.firebaseapp.com",projectId:"pt-admin-4d877",storageBucket:"pt-admin-4d877.firebasestorage.app",messagingSenderId:"420928013456",appId:"1:420928013456:web:42cde435f10b1949c30415",measurementId:"G-9GWH9VTJP6"}):(0,n.Sx)();let d="appExpo";try{r=(0,n.Sx)(d)}catch(e){r=(0,n.Wp)({apiKey:"AIzaSyBTE5Gpz4rnnVhlDXQA3Va4DNARIhhJhrk",authDomain:"pawticket-6b651.firebaseapp.com",projectId:"pawticket-6b651",storageBucket:"pawticket-6b651.firebasestorage.app",messagingSenderId:"405389818227",appId:"1:405389818227:web:0f77dc15826b1eac13ed06",measurementId:"G-5YNTM317YJ"},d)}let c=(0,s.xI)(i);(0,o.aU)(i),(0,l.c7)(i),(0,o.aU)(r),(0,l.c7)(r)}},e=>{e.O(0,[840,779,566,568,441,964,358],()=>e(e.s=330)),_N_E=e.O()}]);